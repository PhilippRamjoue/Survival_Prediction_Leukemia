{"swagger": "2.0", "info": {"title": "deploy-test", "description": "API specification for the Azure Machine Learning service deploy-test", "version": "1.0"}, "schemes": ["https"], "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "Authorization", "in": "header", "description": "For example: Bearer abc123"}}, "paths": {"/": {"get": {"operationId": "ServiceHealthCheck", "description": "Simple health check endpoint to ensure the service is up at any given point.", "responses": {"200": {"description": "If service is up and running, this response will be returned with the content 'Healthy'", "schema": {"type": "string"}, "examples": {"application/json": "Healthy"}}, "default": {"description": "The service failed to execute due to an error.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/score": {"post": {"operationId": "RunMLService", "description": "Run web service's model and get the prediction output", "security": [{"Bearer": []}], "parameters": [{"name": "serviceInputPayload", "in": "body", "description": "The input payload for executing the real-time machine learning service.", "schema": {"$ref": "#/definitions/ServiceInput"}}], "responses": {"200": {"description": "The service processed the input correctly and provided a result prediction, if applicable.", "schema": {"$ref": "#/definitions/ServiceOutput"}}, "default": {"description": "The service failed to execute due to an error.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}}, "definitions": {"ServiceInput": {"type": "object", "properties": {"data": {"type": "array", "items": {"type": "object", "properties": {"Column1": {"type": "number", "format": "double"}, "donor_age_below_35": {"type": "number", "format": "double"}, "donor_CMV": {"type": "number", "format": "double"}, "recipient_age_below_10": {"type": "number", "format": "double"}, "recipient_gender": {"type": "number", "format": "double"}, "recipient_rh": {"type": "number", "format": "double"}, "recipient_CMV": {"type": "number", "format": "double"}, "gender_match": {"type": "number", "format": "double"}, "ABO_match": {"type": "number", "format": "double"}, "HLA_mismatch": {"type": "number", "format": "double"}, "risk_group": {"type": "number", "format": "double"}, "stem_cell_source": {"type": "number", "format": "double"}, "tx_post_relapse": {"type": "number", "format": "double"}, "ANC_recovery": {"type": "number", "format": "double"}, "PLT_recovery": {"type": "number", "format": "double"}, "acute_GvHD_II_III_IV": {"type": "number", "format": "double"}, "acute_GvHD_III_IV": {"type": "number", "format": "double"}, "relapse": {"type": "number", "format": "double"}, "donor_age": {"type": "number", "format": "double"}, "recipient_age": {"type": "number", "format": "double"}, "recipient_body_mass": {"type": "number", "format": "double"}, "CD34_x1e6_per_kg": {"type": "number", "format": "double"}, "CD3_x1e8_per_kg": {"type": "number", "format": "double"}, "CD3_to_CD34_ratio": {"type": "number", "format": "double"}, "time_to_ANC_recovery": {"type": "number", "format": "double"}, "time_to_PLT_recovery": {"type": "number", "format": "double"}, "time_to_acute_GvHD_III_IV": {"type": "number", "format": "double"}, "donor_ABO_0": {"type": "number", "format": "double"}, "donor_ABO_A": {"type": "number", "format": "double"}, "donor_ABO_AB": {"type": "number", "format": "double"}, "donor_ABO_B": {"type": "number", "format": "double"}, "recipient_age_int_0_5": {"type": "number", "format": "double"}, "recipient_age_int_10_20": {"type": "number", "format": "double"}, "recipient_age_int_5_10": {"type": "number", "format": "double"}, "recipient_ABO_0": {"type": "number", "format": "double"}, "recipient_ABO_A": {"type": "number", "format": "double"}, "recipient_ABO_AB": {"type": "number", "format": "double"}, "recipient_ABO_B": {"type": "number", "format": "double"}, "disease_ALL": {"type": "number", "format": "double"}, "disease_AML": {"type": "number", "format": "double"}, "disease_chronic": {"type": "number", "format": "double"}, "disease_lymphoma": {"type": "number", "format": "double"}, "disease_nonmalignant": {"type": "number", "format": "double"}, "disease_group_malignant": {"type": "number", "format": "double"}, "disease_group_nonmalignant": {"type": "number", "format": "double"}, "CMV_status_0": {"type": "number", "format": "double"}, "CMV_status_1": {"type": "number", "format": "double"}, "CMV_status_2": {"type": "number", "format": "double"}, "CMV_status_3": {"type": "number", "format": "double"}, "HLA_match_10/10": {"type": "number", "format": "double"}, "HLA_match_7/10": {"type": "number", "format": "double"}, "HLA_match_8/10": {"type": "number", "format": "double"}, "HLA_match_9/10": {"type": "number", "format": "double"}, "antigen_0": {"type": "number", "format": "double"}, "antigen_1": {"type": "number", "format": "double"}, "antigen_2": {"type": "number", "format": "double"}, "antigen_3": {"type": "number", "format": "double"}, "allel_0": {"type": "number", "format": "double"}, "allel_1": {"type": "number", "format": "double"}, "allel_2": {"type": "number", "format": "double"}, "allel_3": {"type": "number", "format": "double"}, "allel_4": {"type": "number", "format": "double"}, "HLA_group_1_DRB1_cell": {"type": "number", "format": "double"}, "HLA_group_1_matched": {"type": "number", "format": "double"}, "HLA_group_1_mismatched": {"type": "number", "format": "double"}, "HLA_group_1_one_allel": {"type": "number", "format": "double"}, "HLA_group_1_one_antigen": {"type": "number", "format": "double"}, "HLA_group_1_three_diffs": {"type": "number", "format": "double"}, "HLA_group_1_two_diffs": {"type": "number", "format": "double"}}}}}, "example": {"data": [{"Column1": 0.0, "donor_age_below_35": 1.0, "donor_CMV": 0.0, "recipient_age_below_10": 1.0, "recipient_gender": 1.0, "recipient_rh": 1.0, "recipient_CMV": 0.0, "gender_match": 0.0, "ABO_match": 1.0, "HLA_mismatch": 1.0, "risk_group": 0.0, "stem_cell_source": 1.0, "tx_post_relapse": 0.0, "ANC_recovery": 1.0, "PLT_recovery": 1.0, "acute_GvHD_II_III_IV": 1.0, "acute_GvHD_III_IV": 0.0, "relapse": 1.0, "donor_age": 0.1277579149, "recipient_age": 0.1436170213, "recipient_body_mass": 0.1388733965, "CD34_x1e6_per_kg": 0.0650991402, "CD3_x1e8_per_kg": 0.0230817218, "CD3_to_CD34_ratio": 0.1079678604, "time_to_ANC_recovery": 0.6153846154, "time_to_PLT_recovery": 0.1497975709, "time_to_acute_GvHD_III_IV": 0.0, "donor_ABO_0": 0.0, "donor_ABO_A": 0.0, "donor_ABO_AB": 0.0, "donor_ABO_B": 1.0, "recipient_age_int_0_5": 1.0, "recipient_age_int_10_20": 0.0, "recipient_age_int_5_10": 0.0, "recipient_ABO_0": 0.0, "recipient_ABO_A": 0.0, "recipient_ABO_AB": 0.0, "recipient_ABO_B": 1.0, "disease_ALL": 1.0, "disease_AML": 0.0, "disease_chronic": 0.0, "disease_lymphoma": 0.0, "disease_nonmalignant": 0.0, "disease_group_malignant": 1.0, "disease_group_nonmalignant": 0.0, "CMV_status_0": 1.0, "CMV_status_1": 0.0, "CMV_status_2": 0.0, "CMV_status_3": 0.0, "HLA_match_10/10": 1.0, "HLA_match_7/10": 0.0, "HLA_match_8/10": 0.0, "HLA_match_9/10": 0.0, "antigen_0": 1.0, "antigen_1": 0.0, "antigen_2": 0.0, "antigen_3": 0.0, "allel_0": 1.0, "allel_1": 0.0, "allel_2": 0.0, "allel_3": 0.0, "allel_4": 0.0, "HLA_group_1_DRB1_cell": 0.0, "HLA_group_1_matched": 1.0, "HLA_group_1_mismatched": 0.0, "HLA_group_1_one_allel": 0.0, "HLA_group_1_one_antigen": 0.0, "HLA_group_1_three_diffs": 0.0, "HLA_group_1_two_diffs": 0.0}]}}, "ServiceOutput": {"type": "array", "items": {"type": "integer", "format": "int64"}, "example": [0]}, "ErrorResponse": {"type": "object", "properties": {"status_code": {"type": "integer", "format": "int32"}, "message": {"type": "string"}}}}}